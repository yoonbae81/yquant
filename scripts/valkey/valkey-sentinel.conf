# valkey-sentinel.conf
# 3대의 노드(Gate, Blue, Green)에 공통 적용되는 감시자 설정

port 26379
daemonize yes
pidfile /var/run/valkey-sentinel.pid
logfile /var/log/valkey/sentinel.log
dir /tmp

# sentinel monitor <master-name> <ip> <port> <quorum>
# mymaster는 Blue 혹은 Green 중 현재 마스터인 서버의 IP를 입력합니다.
sentinel monitor mymaster <yq-blue-private-ip> 6379 2

# 5초간 응답 없으면 장애로 판단
sentinel down-after-milliseconds mymaster 5000

# 페일오버 타임아웃
sentinel failover-timeout mymaster 60000

# 병렬 동기화 수
sentinel parallel-syncs mymaster 1

# 인증 필요 시
# sentinel auth-pass mymaster <your-password>
